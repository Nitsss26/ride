{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/app/src/components/dashboard/RideDistributionChart.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from \"react\";\nimport Chart from \"chart.js/auto\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RideDistributionChart = ({\n  data\n}) => {\n  _s();\n  const chartRef = useRef(null);\n  const chartInstance = useRef(null);\n  useEffect(() => {\n    if (chartInstance.current) {\n      chartInstance.current.destroy();\n    }\n    const ctx = chartRef.current.getContext(\"2d\");\n\n    // Format data for chart\n    const labels = data.map(item => item.status.charAt(0).toUpperCase() + item.status.slice(1));\n    const counts = data.map(item => item.count);\n    const colors = [\"rgba(34, 197, 94, 0.8)\",\n    // green-500\n    \"rgba(239, 68, 68, 0.8)\",\n    // red-500\n    \"rgba(59, 130, 246, 0.8)\" // blue-500\n    ];\n    chartInstance.current = new Chart(ctx, {\n      type: \"doughnut\",\n      data: {\n        labels,\n        datasets: [{\n          data: counts,\n          backgroundColor: colors,\n          borderColor: \"#ffffff\",\n          borderWidth: 2,\n          hoverOffset: 4\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            position: \"bottom\",\n            labels: {\n              padding: 20,\n              usePointStyle: true,\n              pointStyle: \"circle\"\n            }\n          },\n          tooltip: {\n            backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n            titleColor: \"#fff\",\n            bodyColor: \"#fff\",\n            borderColor: \"rgba(255, 255, 255, 0.2)\",\n            borderWidth: 1,\n            padding: 10,\n            displayColors: false,\n            callbacks: {\n              label: context => `${context.label}: ${context.raw.toLocaleString()} (${(context.raw / context.dataset.data.reduce((a, b) => a + b, 0) * 100).toFixed(1)}%)`\n            }\n          }\n        },\n        cutout: \"65%\",\n        animation: {\n          animateScale: true,\n          animateRotate: true\n        }\n      }\n    });\n    return () => {\n      if (chartInstance.current) {\n        chartInstance.current.destroy();\n      }\n    };\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-64\",\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: chartRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s(RideDistributionChart, \"u5+iHnwD4hjVcMuzTE/TbI78erc=\");\n_c = RideDistributionChart;\nexport default RideDistributionChart;\nvar _c;\n$RefreshReg$(_c, \"RideDistributionChart\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useEffect","useRef","Chart","jsxDEV","_jsxDEV","RideDistributionChart","data","chartRef","chartInstance","current","destroy","ctx","getContext","labels","map","item","status","charAt","toUpperCase","slice","counts","count","colors","type","datasets","backgroundColor","borderColor","borderWidth","hoverOffset","options","responsive","maintainAspectRatio","plugins","legend","position","padding","usePointStyle","pointStyle","tooltip","titleColor","bodyColor","displayColors","callbacks","label","context","raw","toLocaleString","dataset","reduce","a","b","toFixed","cutout","animation","animateScale","animateRotate","className","children","ref","fileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/app/src/components/dashboard/RideDistributionChart.jsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef } from \"react\"\nimport Chart from \"chart.js/auto\"\n\nconst RideDistributionChart = ({ data }) => {\n  const chartRef = useRef(null)\n  const chartInstance = useRef(null)\n\n  useEffect(() => {\n    if (chartInstance.current) {\n      chartInstance.current.destroy()\n    }\n\n    const ctx = chartRef.current.getContext(\"2d\")\n\n    // Format data for chart\n    const labels = data.map((item) => item.status.charAt(0).toUpperCase() + item.status.slice(1))\n    const counts = data.map((item) => item.count)\n    const colors = [\n      \"rgba(34, 197, 94, 0.8)\", // green-500\n      \"rgba(239, 68, 68, 0.8)\", // red-500\n      \"rgba(59, 130, 246, 0.8)\", // blue-500\n    ]\n\n    chartInstance.current = new Chart(ctx, {\n      type: \"doughnut\",\n      data: {\n        labels,\n        datasets: [\n          {\n            data: counts,\n            backgroundColor: colors,\n            borderColor: \"#ffffff\",\n            borderWidth: 2,\n            hoverOffset: 4,\n          },\n        ],\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            position: \"bottom\",\n            labels: {\n              padding: 20,\n              usePointStyle: true,\n              pointStyle: \"circle\",\n            },\n          },\n          tooltip: {\n            backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n            titleColor: \"#fff\",\n            bodyColor: \"#fff\",\n            borderColor: \"rgba(255, 255, 255, 0.2)\",\n            borderWidth: 1,\n            padding: 10,\n            displayColors: false,\n            callbacks: {\n              label: (context) =>\n                `${context.label}: ${context.raw.toLocaleString()} (${((context.raw / context.dataset.data.reduce((a, b) => a + b, 0)) * 100).toFixed(1)}%)`,\n            },\n          },\n        },\n        cutout: \"65%\",\n        animation: {\n          animateScale: true,\n          animateRotate: true,\n        },\n      },\n    })\n\n    return () => {\n      if (chartInstance.current) {\n        chartInstance.current.destroy()\n      }\n    }\n  }, [data])\n\n  return (\n    <div className=\"h-64\">\n      <canvas ref={chartRef}></canvas>\n    </div>\n  )\n}\n\nexport default RideDistributionChart\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
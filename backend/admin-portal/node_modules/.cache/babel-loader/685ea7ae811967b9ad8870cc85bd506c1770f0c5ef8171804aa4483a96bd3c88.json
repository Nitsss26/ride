{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = import.meta.env.VITE_ADMIN_SERVICE_URL || \"http://localhost:3009\";\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n// Request interceptor for adding the auth token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n// Response interceptor for handling errors\napi.interceptors.response.use(response => response, error => {\n  if (error.response && error.response.status === 401) {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    window.location.href = \"/login\";\n  }\n  return Promise.reject(error);\n});\nconst setAuthToken = token => {\n  if (token) {\n    api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  } else {\n    delete api.defaults.headers.common[\"Authorization\"];\n  }\n};\n\n// ðŸŸ© DUMMY IMPLEMENTATIONS FOR NOW\nexport const fetchDriverDetails = async id => {\n  return {\n    data: {\n      id,\n      name: \"John Doe\",\n      status: \"active\"\n    }\n  };\n};\nexport const fetchDriverDocuments = async id => {\n  return {\n    data: [{\n      id: 1,\n      type: \"License\",\n      status: \"approved\"\n    }]\n  };\n};\nexport const updateDriverStatus = async (id, status) => {\n  return {\n    data: {\n      success: true,\n      status\n    }\n  };\n};\nexport const fetchDrivers = async () => {\n  return {\n    data: [{\n      id: 1,\n      name: \"Driver A\"\n    }, {\n      id: 2,\n      name: \"Driver B\"\n    }]\n  };\n};\nexport const updateAdminProfile = async profile => {\n  return {\n    data: {\n      success: true,\n      ...profile\n    }\n  };\n};\nexport const updateAdminPassword = async data => {\n  return {\n    data: {\n      success: true\n    }\n  };\n};\nexport const fetchSupportTickets = async () => {\n  return {\n    data: [{\n      id: 1,\n      subject: \"Issue A\"\n    }, {\n      id: 2,\n      subject: \"Issue B\"\n    }]\n  };\n};\nexport const fetchTicketDetails = async id => {\n  return {\n    data: {\n      id,\n      subject: \"Test Ticket\",\n      messages: []\n    }\n  };\n};\nexport const updateTicketStatus = async (id, status) => {\n  return {\n    data: {\n      success: true,\n      id,\n      status\n    }\n  };\n};\nexport const addTicketReply = async (ticketId, message) => {\n  return {\n    data: {\n      success: true,\n      message\n    }\n  };\n};\n\n// ðŸŸ¦ EXISTING EXPORT (default)\nexport default {\n  // Auth\n  setAuthToken,\n  login: credentials => api.post(\"/auth/login\", credentials),\n  // Users\n  getUsers: params => api.get(\"/users\", {\n    params\n  }),\n  getUser: userId => api.get(`/users/${userId}`),\n  updateUserStatus: (userId, status) => api.put(`/users/${userId}/status`, {\n    accountStatus: status\n  }),\n  // Drivers\n  getDrivers: params => api.get(\"/drivers\", {\n    params\n  }),\n  getDriver: driverId => api.get(`/drivers/${driverId}`),\n  getDriverDocuments: driverId => api.get(`/drivers/${driverId}/documents`),\n  getPendingDocuments: () => api.get(\"/drivers/documents/pending\"),\n  approveDocument: (documentId, notes) => api.put(`/drivers/documents/${documentId}`, {\n    status: \"approved\",\n    reviewNotes: notes\n  }),\n  rejectDocument: (documentId, notes) => api.put(`/drivers/documents/${documentId}`, {\n    status: \"rejected\",\n    reviewNotes: notes\n  }),\n  // Rides\n  getRides: params => api.get(\"/rides\", {\n    params\n  }),\n  getRide: rideId => api.get(`/rides/${rideId}`),\n  // Support Tickets\n  getTickets: params => api.get(\"/support/tickets\", {\n    params\n  }),\n  getTicket: ticketId => api.get(`/support/tickets/${ticketId}`),\n  updateTicket: (ticketId, data) => api.put(`/support/tickets/${ticketId}`, data),\n  // Admin Users\n  getAdmins: () => api.get(\"/admins\"),\n  createAdmin: adminData => api.post(\"/admins\", adminData),\n  updateAdmin: (adminId, adminData) => api.put(`/admins/${adminId}`, adminData),\n  // Dashboard\n  getDashboardOverview: () => api.get(\"/dashboard/overview\"),\n  getRecentActivity: () => api.get(\"/dashboard/recent-activity\"),\n  getRevenueStats: period => api.get(\"/dashboard/revenue\", {\n    params: {\n      period\n    }\n  }),\n  // Generic request methods\n  get: (url, config) => api.get(url, config),\n  post: (url, data, config) => api.post(url, data, config),\n  put: (url, data, config) => api.put(url, data, config),\n  delete: (url, config) => api.delete(url, config)\n};","map":{"version":3,"names":["axios","API_URL","import","meta","env","VITE_ADMIN_SERVICE_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","error","Promise","reject","response","status","removeItem","window","location","href","setAuthToken","defaults","common","fetchDriverDetails","id","data","name","fetchDriverDocuments","type","updateDriverStatus","success","fetchDrivers","updateAdminProfile","profile","updateAdminPassword","fetchSupportTickets","subject","fetchTicketDetails","messages","updateTicketStatus","addTicketReply","ticketId","message","login","credentials","post","getUsers","params","get","getUser","userId","updateUserStatus","put","accountStatus","getDrivers","getDriver","driverId","getDriverDocuments","getPendingDocuments","approveDocument","documentId","notes","reviewNotes","rejectDocument","getRides","getRide","rideId","getTickets","getTicket","updateTicket","getAdmins","createAdmin","adminData","updateAdmin","adminId","getDashboardOverview","getRecentActivity","getRevenueStats","period","url","delete"],"sources":["/root/src/ride/backend/admin-portal/src/services/api.js"],"sourcesContent":["import axios from \"axios\"\n\nconst API_URL = import.meta.env.VITE_ADMIN_SERVICE_URL || \"http://localhost:3009\"\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n})\n\n// Request interceptor for adding the auth token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"token\")\n    if (token) {\n      config.headers[\"Authorization\"] = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => Promise.reject(error)\n)\n\n// Response interceptor for handling errors\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response && error.response.status === 401) {\n      localStorage.removeItem(\"token\")\n      localStorage.removeItem(\"user\")\n      window.location.href = \"/login\"\n    }\n    return Promise.reject(error)\n  }\n)\n\nconst setAuthToken = (token) => {\n  if (token) {\n    api.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`\n  } else {\n    delete api.defaults.headers.common[\"Authorization\"]\n  }\n}\n\n// ðŸŸ© DUMMY IMPLEMENTATIONS FOR NOW\nexport const fetchDriverDetails = async (id) => {\n  return { data: { id, name: \"John Doe\", status: \"active\" } }\n}\n\nexport const fetchDriverDocuments = async (id) => {\n  return { data: [{ id: 1, type: \"License\", status: \"approved\" }] }\n}\n\nexport const updateDriverStatus = async (id, status) => {\n  return { data: { success: true, status } }\n}\n\nexport const fetchDrivers = async () => {\n  return { data: [{ id: 1, name: \"Driver A\" }, { id: 2, name: \"Driver B\" }] }\n}\n\nexport const updateAdminProfile = async (profile) => {\n  return { data: { success: true, ...profile } }\n}\n\nexport const updateAdminPassword = async (data) => {\n  return { data: { success: true } }\n}\n\nexport const fetchSupportTickets = async () => {\n  return { data: [{ id: 1, subject: \"Issue A\" }, { id: 2, subject: \"Issue B\" }] }\n}\n\nexport const fetchTicketDetails = async (id) => {\n  return { data: { id, subject: \"Test Ticket\", messages: [] } }\n}\n\nexport const updateTicketStatus = async (id, status) => {\n  return { data: { success: true, id, status } }\n}\n\nexport const addTicketReply = async (ticketId, message) => {\n  return { data: { success: true, message } }\n}\n\n// ðŸŸ¦ EXISTING EXPORT (default)\nexport default {\n  // Auth\n  setAuthToken,\n  login: (credentials) => api.post(\"/auth/login\", credentials),\n\n  // Users\n  getUsers: (params) => api.get(\"/users\", { params }),\n  getUser: (userId) => api.get(`/users/${userId}`),\n  updateUserStatus: (userId, status) => api.put(`/users/${userId}/status`, { accountStatus: status }),\n\n  // Drivers\n  getDrivers: (params) => api.get(\"/drivers\", { params }),\n  getDriver: (driverId) => api.get(`/drivers/${driverId}`),\n  getDriverDocuments: (driverId) => api.get(`/drivers/${driverId}/documents`),\n  getPendingDocuments: () => api.get(\"/drivers/documents/pending\"),\n  approveDocument: (documentId, notes) => api.put(`/drivers/documents/${documentId}`, { status: \"approved\", reviewNotes: notes }),\n  rejectDocument: (documentId, notes) => api.put(`/drivers/documents/${documentId}`, { status: \"rejected\", reviewNotes: notes }),\n\n  // Rides\n  getRides: (params) => api.get(\"/rides\", { params }),\n  getRide: (rideId) => api.get(`/rides/${rideId}`),\n\n  // Support Tickets\n  getTickets: (params) => api.get(\"/support/tickets\", { params }),\n  getTicket: (ticketId) => api.get(`/support/tickets/${ticketId}`),\n  updateTicket: (ticketId, data) => api.put(`/support/tickets/${ticketId}`, data),\n\n  // Admin Users\n  getAdmins: () => api.get(\"/admins\"),\n  createAdmin: (adminData) => api.post(\"/admins\", adminData),\n  updateAdmin: (adminId, adminData) => api.put(`/admins/${adminId}`, adminData),\n\n  // Dashboard\n  getDashboardOverview: () => api.get(\"/dashboard/overview\"),\n  getRecentActivity: () => api.get(\"/dashboard/recent-activity\"),\n  getRevenueStats: (period) => api.get(\"/dashboard/revenue\", { params: { period } }),\n\n  // Generic request methods\n  get: (url, config) => api.get(url, config),\n  post: (url, data, config) => api.post(url, data, config),\n  put: (url, data, config) => api.put(url, data, config),\n  delete: (url, config) => api.delete(url, config),\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}